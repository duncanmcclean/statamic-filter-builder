var W=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var n=42;t[r]=n;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var p=Object.getOwnPropertySymbols(t);if(p.length!==1||p[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==n||s.enumerable!==!0)return!1}return!0},C=typeof Symbol<"u"&&Symbol,V=W,J=function(){return typeof C!="function"||typeof Symbol!="function"||typeof C("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:V()},x={foo:{}},z=Object,L=function(){return{__proto__:x}.foo===x.foo&&!({__proto__:null}instanceof z)},q="Function.prototype.bind called on incompatible ",w=Array.prototype.slice,X=Object.prototype.toString,Y="[object Function]",H=function(t){var r=this;if(typeof r!="function"||X.call(r)!==Y)throw new TypeError(q+r);for(var o=w.call(arguments,1),n,p=function(){if(this instanceof n){var f=r.apply(this,o.concat(w.call(arguments)));return Object(f)===f?f:this}else return r.apply(t,o.concat(w.call(arguments)))},s=Math.max(0,r.length-o.length),i=[],y=0;y<s;y++)i.push("$"+y);if(n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(p),r.prototype){var c=function(){};c.prototype=r.prototype,n.prototype=new c,c.prototype=null}return n},K=H,$=Function.prototype.bind||K,Q=$,Z=Q.call(Function.call,Object.prototype.hasOwnProperty),a,S=SyntaxError,M=Function,P=TypeError,R=function(e){try{return M('"use strict"; return ('+e+").constructor;")()}catch{}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch{m=null}var j=function(){throw new P},tt=m?function(){try{return arguments.callee,j}catch{try{return m(arguments,"callee").get}catch{return j}}}():j,b=J(),rt=L(),u=Object.getPrototypeOf||(rt?function(e){return e.__proto__}:null),A={},et=typeof Uint8Array>"u"||!u?a:u(Uint8Array),g={"%AggregateError%":typeof AggregateError>"u"?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?a:ArrayBuffer,"%ArrayIteratorPrototype%":b&&u?u([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":typeof Atomics>"u"?a:Atomics,"%BigInt%":typeof BigInt>"u"?a:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?a:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?a:Float32Array,"%Float64Array%":typeof Float64Array>"u"?a:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?a:FinalizationRegistry,"%Function%":M,"%GeneratorFunction%":A,"%Int8Array%":typeof Int8Array>"u"?a:Int8Array,"%Int16Array%":typeof Int16Array>"u"?a:Int16Array,"%Int32Array%":typeof Int32Array>"u"?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&u?u(u([][Symbol.iterator]())):a,"%JSON%":typeof JSON=="object"?JSON:a,"%Map%":typeof Map>"u"?a:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!u?a:u(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?a:Promise,"%Proxy%":typeof Proxy>"u"?a:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?a:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?a:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!u?a:u(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&u?u(""[Symbol.iterator]()):a,"%Symbol%":b?Symbol:a,"%SyntaxError%":S,"%ThrowTypeError%":tt,"%TypedArray%":et,"%TypeError%":P,"%Uint8Array%":typeof Uint8Array>"u"?a:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?a:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?a:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?a:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?a:WeakMap,"%WeakRef%":typeof WeakRef>"u"?a:WeakRef,"%WeakSet%":typeof WeakSet>"u"?a:WeakSet};if(u)try{null.error}catch(e){var ot=u(u(e));g["%Error.prototype%"]=ot}var nt=function e(t){var r;if(t==="%AsyncFunction%")r=R("async function () {}");else if(t==="%GeneratorFunction%")r=R("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=R("async function* () {}");else if(t==="%AsyncGenerator%"){var o=e("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var n=e("%AsyncGenerator%");n&&u&&(r=u(n.prototype))}return g[t]=r,r},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},F=$,O=Z,at=F.call(Function.call,Array.prototype.concat),it=F.call(Function.apply,Array.prototype.splice),N=F.call(Function.call,String.prototype.replace),I=F.call(Function.call,String.prototype.slice),pt=F.call(Function.call,RegExp.prototype.exec),yt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,st=function(t){var r=I(t,0,1),o=I(t,-1);if(r==="%"&&o!=="%")throw new S("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new S("invalid intrinsic syntax, expected opening `%`");var n=[];return N(t,yt,function(p,s,i,y){n[n.length]=i?N(y,lt,"$1"):s||p}),n},ct=function(t,r){var o=t,n;if(O(k,o)&&(n=k[o],o="%"+n[0]+"%"),O(g,o)){var p=g[o];if(p===A&&(p=nt(o)),typeof p>"u"&&!r)throw new P("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:p}}throw new S("intrinsic "+t+" does not exist!")},U=function(t,r){if(typeof t!="string"||t.length===0)throw new P("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new P('"allowMissing" argument must be a boolean');if(pt(/^%?[^%]*%?$/,t)===null)throw new S("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=st(t),n=o.length>0?o[0]:"",p=ct("%"+n+"%",r),s=p.name,i=p.value,y=!1,c=p.alias;c&&(n=c[0],it(o,at([0,1],c)));for(var f=1,d=!0;f<o.length;f+=1){var l=o[f],v=I(l,0,1),h=I(l,-1);if((v==='"'||v==="'"||v==="`"||h==='"'||h==="'"||h==="`")&&v!==h)throw new S("property names with quotes must have matching quotes");if((l==="constructor"||!d)&&(y=!0),n+="."+l,s="%"+n+"%",O(g,s))i=g[s];else if(i!=null){if(!(l in i)){if(!r)throw new P("base intrinsic for "+t+" exists, but the property is not available.");return}if(m&&f+1>=o.length){var E=m(i,l);d=!!E,d&&"get"in E&&!("originalValue"in E.get)?i=E.get:i=i[l]}else d=O(i,l),i=i[l];d&&!y&&(g[s]=i)}}return i},T={exports:{}};(function(e){var t=$,r=U,o=r("%Function.prototype.apply%"),n=r("%Function.prototype.call%"),p=r("%Reflect.apply%",!0)||t.call(n,o),s=r("%Object.getOwnPropertyDescriptor%",!0),i=r("%Object.defineProperty%",!0),y=r("%Math.max%");if(i)try{i({},"a",{value:1})}catch{i=null}e.exports=function(d){var l=p(t,n,arguments);if(s&&i){var v=s(l,"length");v.configurable&&i(l,"length",{value:1+y(0,d.length-(arguments.length-1))})}return l};var c=function(){return p(t,o,arguments)};i?i(e.exports,"apply",{value:c}):e.exports.apply=c})(T);var ut=T.exports,G=U,D=ut,ft=D(G("String.prototype.indexOf")),dt=function(t,r){var o=G(t,!!r);return typeof o=="function"&&ft(t,".prototype.")>-1?D(o):o},B=U,_=dt;B("%TypeError%");B("%WeakMap%",!0);B("%Map%",!0);_("WeakMap.prototype.get",!0);_("WeakMap.prototype.set",!0);_("WeakMap.prototype.has",!0);_("Map.prototype.get",!0);_("Map.prototype.set",!0);_("Map.prototype.has",!0);(function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();function vt(e,t,r,o,n,p,s,i){var y=typeof e=="function"?e.options:e;t&&(y.render=t,y.staticRenderFns=r,y._compiled=!0),o&&(y.functional=!0),p&&(y._scopeId="data-v-"+p);var c;if(s?(c=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__<"u"&&(l=__VUE_SSR_CONTEXT__),n&&n.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(s)},y._ssrRegister=c):n&&(c=i?function(){n.call(this,(y.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(y.functional){y._injectStyles=c;var f=y.render;y.render=function(v,h){return c.call(h),f(v,h)}}else{var d=y.beforeCreate;y.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:y}}const ht={mixins:[Fieldtype],computed:{fieldsObject(){return Object.fromEntries(this.meta.fields.map(e=>[e.handle,e]))},filterFields(){return{field:Object.fromEntries(this.meta.fields.map(e=>[e.handle,e.fields]))}}},methods:{addFilter(e,t){this.$refs.addFilterDropdowm.close(),this.update([...this.value,{type:e,handle:t,values:this.meta.defaults[t]}])},resetFilter(e,t){const{type:r}=this.value[e];this.update([...this.value.slice(0,e),{type:r,handle:t,values:this.meta.defaults[t]},...this.value.slice(e+1)])},updateFilter(e,t){this.update([...this.value.slice(0,e),{...this.value[e],values:{...t}},...this.value.slice(e+1)])},removeFilter(e){this.update([...this.value.slice(0,e),...this.value.slice(e+1)])},filterlabel(e){return{field:"Field"}[e.type],`${this.fieldsObject[e.handle].display}`}}};var mt=function(){var t=this,r=t._self._c;return r("div",[t.loading?r("loading-graphic",{attrs:{text:!1}}):t._e(),t.loading?t._e():r("div",[r("div",{},t._l(t.value,function(o,n){return r("div",{staticClass:"replicator-set shadow-sm mb-2 rounded border"},[r("div",{staticClass:"replicator-set-header"},[r("div",{staticClass:"py-2 pl-2 replicator-set-header-inner flex justify-between items-end w-full"},[r("div",{staticClass:"text-sm leading-none"},[t._v(" "+t._s(t.filterlabel(o))+" ")]),r("button",{staticClass:"flex self-end group items-center",attrs:{"aria-label":t.__("Delete Filter")},on:{click:function(p){return t.removeFilter(n)}}},[r("svg-icon",{staticClass:"w-4 h-4 text-gray-600 group-hover:text-gray-900",attrs:{name:"micro/trash"}})],1)])]),r("div",{staticClass:"replicator-set-body publish-fields @container"},[r("publish-container",{attrs:{name:`filter-${n}`,meta:t.meta.existing[o.id]??t.meta.new[o.handle],values:o.values,"track-dirty-state":!1},on:{updated:p=>t.updateFilter(n,p)},scopedSlots:t._u([{key:"default",fn:function({setFieldValue:p,setFieldMeta:s}){return r("publish-fields",{staticClass:"w-full",attrs:{fields:t.filterFields[o.type][o.handle],"name-prefix":`filter-${n}`},on:{updated:p,"meta-updated":s}})}}],null,!0)})],1)])}),0),r("div",{staticClass:"flex"},[r("popover",{ref:"addFilterDropdowm",staticClass:"dropdown-list filter_builder-dropdown",attrs:{placement:"bottom-start"},scopedSlots:t._u([{key:"trigger",fn:function(){return[r("button",{staticClass:"btn"},[t._v(" Add Filter ")])]},proxy:!0}],null,!1,3422622939)},t._l(t.meta.fields,function(o){return r("button",{domProps:{textContent:t._s(o.display)},on:{click:function(n){return t.addFilter("field",o.handle)}}})}),0)],1)])],1)},gt=[],bt=vt(ht,mt,gt,!1,null,null,null,null);const At=bt.exports;Statamic.booting(()=>{Statamic.component("filter_builder-fieldtype",At)});
